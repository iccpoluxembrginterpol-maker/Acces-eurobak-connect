<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Confirmation Virement</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

  <style>
    body {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #007e66;
      color: white;
      text-align: center;
      display: flex;
      flex-direction: column;
      justify-content: space-between;
      height: 100vh;
    }

    .top-icon {
      margin-top: 40px;
      font-size: 30px;
      background: white;
      color: #007e66;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-left: auto;
      margin-right: auto;
    }

    h1 {
      margin: 20px 0 10px;
      font-size: 40px;
      font-weight: normal;
    }

    .amount {
      font-size: 35px;
      font-weight: bold;
      margin: 5px 0;

    }

    .validated {
      font-size: 30px;
      margin-bottom: 30px;
     font-weight: normal;
    }

    .beneficiary {
      margin-top: 20px;
      font-size: 16px;
    }

    .beneficiary strong {
      display: block;
      margin-top: 5px;
      font-weight: bold;
    }

    .info {
      font-size: 15px;
      color: #d9f3ec;
      margin: 40px 30px;
    }

    .btn {
      background: white;
      color: #007e66;
      border: none;
      padding: 15px 20px;
      border-radius: 30px;
      font-size: 16px;
      margin: 20px;
      cursor: pointer;
    }
    .button-container {
  display: flex;
  justify-content: center;
  gap: 10px; /* espace entre les boutons */
  flex-wrap: wrap; /* pour s’adapter sur petit écran */
}

  </style>
</head>
<body>

  <div class="top-icon">
    <i class="fas fa-check"></i>
  </div>

  <div>
    <h1>Votre demande de virement de</h1>
    <div class="amount" id="montantVirement">100,00 €</div>
    <div class="validated">a été validée</div>

    <div class="beneficiary">
      Vers<br>
      <strong id="beneficiaireNom">Bourdieu Hans</strong>
      <span id="beneficiaireIBAN">FR76 3000 XXXX XXXX</span><br>
      <span id="beneficiaireBIC">SOGEFRPP</span><br>
      <span id="beneficiaireBanque">Société Générale</span><br>
    </div>

    <div class="info">
      Ce virement permet d’envoyer de l’argent à votre bénéficiaire dans un délai d’un jour ouvré, qui suit celui du débit de votre compte.
    </div>
  </div>

<div class="button-container">
  <button class="btn" onclick="telechargerBordereau()">Télécharger le bordereau</button>
  <button class="btn" onclick="retourAccueil()">Retour à mes comptes</button>
</div>



  <script>
    // Charger les infos depuis le stockage local si besoin
    document.getElementById('montantVirement').innerText = localStorage.getItem('virementMontant') + " €";
document.getElementById('beneficiaireNom').innerText = localStorage.getItem('beneficiaireNom');
document.getElementById('beneficiaireIBAN').innerText = localStorage.getItem('beneficiaireIBAN');
document.getElementById('beneficiaireBIC').innerText = localStorage.getItem('beneficiaireBIC');
document.getElementById('beneficiaireBanque').innerText = localStorage.getItem('beneficiaireBanque');

   a

    function telechargerBordereau() {
  // Exemple : télécharge un fichier fictif (bordereau.pdf)
  const lien = document.createElement('a');
  lien.href = 'bordereau.pdf'; // Chemin de ton fichier à télécharger
  lien.download = 'bordereau-virement.pdf'; // Nom du fichier téléchargé
  document.body.appendChild(lien);
  lien.click();
  document.body.removeChild(lien);
}

  </script>

  <script>
  function telechargerBordereau() {
    const { jsPDF } = window.jspdf;
    const doc = new jsPDF();

    // Données récupérées
    const montant = localStorage.getItem('virementMontant') || "0,00";
    const nom = localStorage.getItem('beneficiaireNom') || "N/A";
    const iban = localStorage.getItem('beneficiaireIBAN') || "N/A";
    const bic = localStorage.getItem('beneficiaireBIC') || "N/A";
    const banque = localStorage.getItem('beneficiaireBanque') || "N/A";
    const adresse = localStorage.getItem('beneficiaireAdresse') || "N/A";

    const now = new Date();
    const dateStr = now.toLocaleDateString('fr-FR');
    const heureStr = now.toLocaleTimeString('fr-FR');

    const refVirement = "VIR" + Math.floor(Math.random() * 1000000000);

    // Émetteur
   const titulaireNom = "Bourdieu Hans";
    const titulaireCompte = "FR76 1780 6001 0012 3456 7890 189";
    const agenceNom = "CREDIT AGRICOLE ";
    const agenceAdresse = "28 Rue d'Argenteuil, 75015 Paris, France"; 
    const agenceTel = "0909";

    // ✅ Arrière-plan vert clair
    doc.setFillColor(230, 250, 240);
    doc.rect(0, 0, 210, 297, 'F');

    // ✅ Police courier
    doc.setFont("courier", "normal");
    doc.setTextColor(0, 126, 102);
    doc.setFontSize(16);
    doc.text("Confirmation de virement", 50, 20);

    // Infos principales
    doc.setFontSize(10);
    doc.setTextColor(0, 0, 0);
    doc.text(`Référence : ${refVirement}`, 20, 30);
    doc.text(`Date : ${dateStr}`, 150, 30);
    doc.text(`Heure : ${heureStr}`, 150, 36);

    // ✅ Titulaire du compte (émetteur)
    doc.setFontSize(12);
    doc.setTextColor(0, 126, 102);
    doc.text("Émetteur :", 20, 50);
    doc.setTextColor(0);
    doc.text(`Nom : ${titulaireNom}`, 30, 58);
    doc.text(`Compte : ${titulaireCompte}`, 30, 64);
    doc.text(`Agence : ${agenceNom}`, 30, 70);
    doc.text(`Adresse Agence : ${agenceAdresse}`, 30, 76);
    doc.text(`Téléphone : ${agenceTel}`, 30, 82);

    // ✅ Infos bénéficiaire
    doc.setFontSize(12);
    doc.setTextColor(0, 126, 102);
    doc.text("Bénéficiaire :", 20, 96);
    doc.setTextColor(0);
    doc.text(`Nom : ${nom}`, 30, 104);
    doc.text(`IBAN : ${iban}`, 30, 110);
    doc.text(`BIC : ${bic}`, 30, 116);
    doc.text(`Banque : ${banque}`, 30, 122);
    doc.text(`Adresse : ${adresse}`, 30, 128);

    // ✅ Montant
    doc.setFontSize(12);
    doc.setTextColor(0, 126, 102);
    doc.text("Montant du virement :", 20, 142);
    doc.setTextColor(0);
    doc.text(`${parseFloat(montant).toFixed(2).replace('.', ',')} EUR`, 30, 150);

    // ✅ Infos supplémentaires
    doc.setFontSize(9);
    doc.text("Ce virement sera traité sous un jour ouvré suivant le débit de votre compte.", 20, 160);
    doc.text("Le client déclare avoir vérifié l’exactitude des opérations effectuées sur son ordre.", 20, 166);

    // ✅ Suivi par Chantal Lenoué
    doc.setFontSize(10);
    doc.setTextColor(0, 126, 102);
    doc.text("Suivi par : Maxime Cauvez", 20, 180);

    // ✅ Signature espace (sans image)
    doc.setTextColor(0);
    doc.text("Signature Banque :", 20, 190);
    doc.line(20, 194, 80, 194); // ligne pour signature banque
    doc.text("Signature Client :", 120, 190);
    doc.line(120, 194, 180, 194); // ligne pour signature client

    // ✅ Footer banque
    doc.setFontSize(8);
    doc.setTextColor(100);
   doc.text("CREDIT AGRICOLE - SA au capital de 5 000 000 € - Siège : 28 Rue d'Argenteuil, 75015 Paris, France", 20, 285);
    doc.text("Tél : 01 44 55 66 77 - RCS Paris 784 608 416", 20, 290);

    doc.save(`Bordereau-${refVirement}.pdf`);
  }
</script>
<script>
    function toggleDetails(element) {
      const next = element.nextElementSibling;
      if (next && next.classList.contains('details')) {
        next.style.display = next.style.display === 'block' ? 'none' : 'block';
      }
    }
  </script>
  <script>
  const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);

  if (!isMobile) {
    // Redirection vers la version ordinateur
    window.location.href = "desk.html";
  }
</script>

<script>
  function retourAccueil() {
    window.location.href = "accueil.html";
  }
</script>

</body>
</html>